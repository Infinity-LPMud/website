---
import PageSection from "./PageSection.astro";
---

<PageSection title="Top Player">
  <span id="top-player-prefix">The</span>
  Infinity's current top player! Infinity's top players are ranked by a variety
  of factors including experience points, level, and wizard quests solved. To
  see the full list of top players, visit
  <a href="/top-players" style="font-weight:bold">Infinity's Top Players</a>.
  The number one spot is a coveted position, but can change at any time.
</PageSection>

<script>
  fetch("/data/SORT_LEVEL.json")
    .then((res) => res.json())
    .then((data) => {
      if (data.length > 0 && data[0].Name) {
        const prefix = document.getElementById("top-player-prefix");
        if (prefix) {
          prefix.innerHTML = `Congratulations to <span class="text-2xl font-bold text-[#f0c050]">${data[0].Name}</span>,`;
        }
      }
    })
    .catch(() => {});
</script>
